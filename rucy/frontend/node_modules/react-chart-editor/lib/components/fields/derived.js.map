{"version":3,"sources":["../../../src/components/fields/derived.js"],"names":["AxisAnchorDropdown","modifyPlotProps","props","context","plotProps","_","localize","options","fullContainer","_subplot","includes","fullLayout","_subplots","yaxis","map","label","axis","value","xaxis","push","AxisOverlayDropdown","filter","_id","option","clearable","RangesliderVisible","fullValue","visible","isVisible","AxisSide","startsWith","CanvasSize","updateContainer","container","autosize","attr","ContourNumeric","autocontour","BinningNumeric","BinningDropdown","orientation","HistogramInfoVertical","type","HistogramInfoHorizontal","AxesRange","autorange","NTicks","tickmode","DTicks","UnconnectedNumericFraction","propTypes","defaultProps","units","showSlider","numericFractionModifyPlotProps","attrMeta","updatePlot","min","max","Math","round","v","NumericFraction","NumericFractionDomain","overlaying","NumericFractionInverse","AnnotationArrowRef","xref","yref","currentAxisRef","Error","computeAxesRefOptions","AnnotationRef","axref","ayref","currentOffsetRef","update","PositioningRef","PositioningNumeric","length","step","axes","propsAttr","i","ax","charAt","TextPosition","HoverInfo","FillDropdown"],"mappings":"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","file":"derived.js","sourcesContent":["import isNumeric from 'fast-isnumeric';\nimport {UnconnectedDropdown} from './Dropdown';\nimport {UnconnectedFlaglist} from './Flaglist';\nimport {UnconnectedNumeric} from './Numeric';\nimport {UnconnectedAxisRangeValue} from './AxisRangeValue';\nimport {UnconnectedRadio} from './Radio';\nimport Info from './Info';\nimport {\n  connectToContainer,\n  getAllAxes,\n  getAxisTitle,\n  axisIdToAxisName,\n} from 'lib';\n\nexport const AxisAnchorDropdown = connectToContainer(UnconnectedDropdown, {\n  modifyPlotProps: (props, context, plotProps) => {\n    const {localize: _} = context;\n    let options = [];\n\n    if (\n      plotProps.fullContainer &&\n      plotProps.fullContainer._subplot &&\n      plotProps.fullContainer._subplot.includes('xaxis')\n    ) {\n      options = context.fullLayout._subplots.yaxis.map(axis => {\n        return {\n          label: getAxisTitle(context.fullLayout[axisIdToAxisName(axis)]),\n          value: axis,\n        };\n      });\n    } else if (\n      plotProps.fullContainer &&\n      plotProps.fullContainer._subplot &&\n      plotProps.fullContainer._subplot.includes('yaxis')\n    ) {\n      options = context.fullLayout._subplots.xaxis.map(axis => {\n        return {\n          label: getAxisTitle(context.fullLayout[axisIdToAxisName(axis)]),\n          value: axis,\n        };\n      });\n    }\n    options.push({label: _('Free'), value: 'free'});\n    plotProps.options = options;\n  },\n});\n\nexport const AxisOverlayDropdown = connectToContainer(UnconnectedDropdown, {\n  modifyPlotProps: (props, context, plotProps) => {\n    let options = [];\n    if (\n      plotProps.fullContainer &&\n      plotProps.fullContainer._subplot &&\n      plotProps.fullContainer._subplot.includes('xaxis')\n    ) {\n      options = context.fullLayout._subplots.xaxis.map(axis => {\n        return {\n          label: getAxisTitle(context.fullLayout[axisIdToAxisName(axis)]),\n          value: axis,\n        };\n      });\n    } else if (\n      plotProps.fullContainer &&\n      plotProps.fullContainer._subplot &&\n      plotProps.fullContainer._subplot.includes('yaxis')\n    ) {\n      options = context.fullLayout._subplots.yaxis.map(axis => {\n        return {\n          label: getAxisTitle(context.fullLayout[axisIdToAxisName(axis)]),\n          value: axis,\n        };\n      });\n    }\n\n    // filter out the current axisID, can't overlay over itself\n    plotProps.options = options.filter(\n      option =>\n        context.fullContainer && context.fullContainer._id !== option.value\n    );\n\n    plotProps.clearable = true;\n  },\n});\n\nexport const RangesliderVisible = connectToContainer(UnconnectedRadio, {\n  modifyPlotProps: (props, context, plotProps) => {\n    if (!plotProps.fullValue) {\n      plotProps.fullValue = false;\n      plotProps.visible = false;\n      plotProps.isVisible = true;\n      return;\n    }\n  },\n});\n\nexport const AxisSide = connectToContainer(UnconnectedRadio, {\n  modifyPlotProps: (props, context, plotProps) => {\n    const _ = context.localize;\n    if (\n      context.fullContainer &&\n      context.fullContainer._id &&\n      context.fullContainer._id.startsWith('y')\n    ) {\n      plotProps.options = [\n        {label: _('Left'), value: 'left'},\n        {label: _('Right'), value: 'right'},\n      ];\n      return;\n    }\n\n    if (\n      context.fullContainer &&\n      context.fullContainer._id &&\n      context.fullContainer._id.startsWith('x')\n    ) {\n      plotProps.options = [\n        {label: _('Bottom'), value: 'bottom'},\n        {label: _('Top'), value: 'top'},\n      ];\n      return;\n    }\n\n    plotProps.isVisible = false;\n  },\n});\n\nexport const CanvasSize = connectToContainer(UnconnectedNumeric, {\n  modifyPlotProps: (props, context, plotProps) => {\n    const {fullContainer, updateContainer, container} = plotProps;\n    if (plotProps.isVisible && fullContainer && fullContainer.autosize) {\n      plotProps.isVisible = false;\n      if (container[props.attr]) {\n        updateContainer({[props.attr]: {}});\n      }\n    }\n  },\n});\n\nexport const ContourNumeric = connectToContainer(UnconnectedNumeric, {\n  modifyPlotProps: (props, context, plotProps) => {\n    const {fullContainer} = plotProps;\n    if (plotProps.isVisible && fullContainer && fullContainer.autocontour) {\n      plotProps.isVisible = false;\n    }\n  },\n});\n\nexport const BinningNumeric = connectToContainer(UnconnectedNumeric, {\n  modifyPlotProps: (props, context, plotProps) => {\n    const {fullContainer} = plotProps;\n    if (\n      plotProps.isVisible &&\n      fullContainer &&\n      fullContainer[`autobin${props.axis}`]\n    ) {\n      plotProps.isVisible = false;\n    }\n  },\n});\n\nexport const BinningDropdown = connectToContainer(UnconnectedDropdown, {\n  modifyPlotProps: (props, context, plotProps) => {\n    const {localize: _} = context;\n    plotProps.options =\n      plotProps.fullContainer.orientation === 'v'\n        ? [\n            {label: _('Count X'), value: 'count'},\n            {label: _('Sum Y'), value: 'sum'},\n            {label: _('Average Y'), value: 'avg'},\n            {label: _('Minimum Y'), value: 'min'},\n            {label: _('Maximum Y'), value: 'max'},\n          ]\n        : [\n            {label: _('Count Y'), value: 'count'},\n            {label: _('Sum X'), value: 'sum'},\n            {label: _('Average X'), value: 'avg'},\n            {label: _('Minimum X'), value: 'min'},\n            {label: _('Maximum X'), value: 'max'},\n          ];\n  },\n});\n\nexport const HistogramInfoVertical = connectToContainer(Info, {\n  modifyPlotProps: (props, context, plotProps) => {\n    plotProps.isVisible =\n      context.fullContainer.type === 'histogram' &&\n      context.fullContainer.orientation === 'v';\n    return plotProps;\n  },\n});\nexport const HistogramInfoHorizontal = connectToContainer(Info, {\n  modifyPlotProps: (props, context, plotProps) => {\n    plotProps.isVisible =\n      context.fullContainer.type === 'histogram' &&\n      context.fullContainer.orientation === 'h';\n    return plotProps;\n  },\n});\n\nexport const AxesRange = connectToContainer(UnconnectedAxisRangeValue, {\n  modifyPlotProps: (props, context, plotProps) => {\n    const {fullContainer} = plotProps;\n    if (plotProps.isVisible && fullContainer && fullContainer.autorange) {\n      plotProps.isVisible = false;\n    }\n    return plotProps;\n  },\n});\n\nexport const NTicks = connectToContainer(UnconnectedNumeric, {\n  modifyPlotProps: (props, context, plotProps) => {\n    const {fullContainer} = plotProps;\n    if (\n      plotProps.isVisible &&\n      fullContainer &&\n      fullContainer.tickmode !== 'auto'\n    ) {\n      plotProps.isVisible = false;\n    }\n    return plotProps;\n  },\n});\n\nexport const DTicks = connectToContainer(UnconnectedAxisRangeValue, {\n  modifyPlotProps: (props, context, plotProps) => {\n    const {fullContainer} = plotProps;\n    if (\n      plotProps.isVisible &&\n      fullContainer &&\n      fullContainer.tickmode !== 'linear'\n    ) {\n      plotProps.isVisible = false;\n    }\n    return plotProps;\n  },\n});\n\nclass UnconnectedNumericFraction extends UnconnectedNumeric {}\nUnconnectedNumericFraction.propTypes = UnconnectedNumeric.propTypes;\nUnconnectedNumericFraction.defaultProps = {\n  units: '%',\n  showSlider: true,\n};\n\nconst numericFractionModifyPlotProps = (props, context, plotProps) => {\n  const {attrMeta, fullValue, updatePlot} = plotProps;\n  const min = attrMeta.min || 0;\n  const max = attrMeta.max || 1;\n  if (isNumeric(fullValue)) {\n    plotProps.fullValue = Math.round(100 * (fullValue - min) / (max - min));\n  }\n\n  plotProps.updatePlot = v => {\n    if (isNumeric(v)) {\n      updatePlot(v / 100 * (max - min) + min);\n    } else {\n      updatePlot(v);\n    }\n  };\n  plotProps.max = 100;\n  plotProps.min = 0;\n};\n\nexport const NumericFraction = connectToContainer(UnconnectedNumericFraction, {\n  modifyPlotProps: numericFractionModifyPlotProps,\n});\n\nexport const NumericFractionDomain = connectToContainer(\n  UnconnectedNumericFraction,\n  {\n    modifyPlotProps: (props, context, plotProps) => {\n      numericFractionModifyPlotProps(props, context, plotProps);\n      if (context.container && context.container.overlaying) {\n        plotProps.isVisible = null;\n      }\n    },\n  }\n);\n\nexport const NumericFractionInverse = connectToContainer(\n  UnconnectedNumericFraction,\n  {\n    modifyPlotProps: (props, context, plotProps) => {\n      const {attrMeta, fullValue, updatePlot} = plotProps;\n      if (isNumeric(fullValue)) {\n        plotProps.fullValue = Math.round((1 - fullValue) * 100);\n      }\n\n      plotProps.updatePlot = v => {\n        if (isNumeric(v)) {\n          updatePlot(1 - v / 100);\n        } else {\n          updatePlot(v);\n        }\n      };\n\n      // Also take the inverse of max and min.\n      if (attrMeta) {\n        if (isNumeric(attrMeta.min)) {\n          plotProps.max = (1 - attrMeta.min) * 100;\n        }\n\n        if (isNumeric(attrMeta.max)) {\n          plotProps.min = (1 - attrMeta.max) * 100;\n        }\n      }\n    },\n  }\n);\n\nexport const AnnotationArrowRef = connectToContainer(UnconnectedDropdown, {\n  modifyPlotProps: (props, context, plotProps) => {\n    if (!context.fullContainer) {\n      return;\n    }\n    const {\n      fullContainer: {xref, yref},\n    } = context;\n\n    let currentAxisRef;\n    if (props.attr === 'axref') {\n      currentAxisRef = xref;\n    } else if (props.attr === 'ayref') {\n      currentAxisRef = yref;\n    } else {\n      throw new Error(\n        'AnnotationArrowRef must be given either \"axref\" or \"ayref\" as attrs. ' +\n          `Instead was given \"${props.attr}\".`\n      );\n    }\n\n    if (currentAxisRef === 'paper') {\n      // If currentAxesRef is paper provide all axes options to user.\n\n      plotProps.options = [\n        {label: 'in pixels', value: 'pixel'},\n        ...computeAxesRefOptions(getAllAxes(context.fullLayout), props.attr),\n      ];\n    } else {\n      // If currentAxesRef is an actual axes then offer that value as the only\n      // axes option.\n      plotProps.options = [\n        {label: 'in pixels', value: 'pixel'},\n        {label: 'according to axis', value: currentAxisRef},\n      ];\n    }\n\n    plotProps.clearable = false;\n  },\n});\n\nexport const AnnotationRef = connectToContainer(UnconnectedDropdown, {\n  modifyPlotProps: (props, context, plotProps) => {\n    if (!context.fullContainer) {\n      return;\n    }\n    const {\n      fullContainer: {axref, ayref},\n    } = context;\n\n    let currentOffsetRef;\n    if (props.attr === 'xref') {\n      currentOffsetRef = axref;\n    } else if (props.attr === 'yref') {\n      currentOffsetRef = ayref;\n    } else {\n      throw new Error(\n        'AnnotationRef must be given either \"xref\" or \"yref\" as attrs. ' +\n          `Instead was given \"${props.attr}\".`\n      );\n    }\n\n    plotProps.options = [\n      {label: 'Canvas', value: 'paper'},\n      ...computeAxesRefOptions(getAllAxes(context.fullLayout), props.attr),\n    ];\n\n    if (currentOffsetRef !== 'pixel') {\n      plotProps.updatePlot = v => {\n        if (!plotProps.updateContainer) {\n          return;\n        }\n\n        /*\n         * If user is changing axis also change their a[x|y]ref arrow axis\n         * reference to match if the value is an axis value.\n         * Behaviour copied from plot.ly/create\n         */\n        const update = {[props.attr]: v};\n        if (v !== 'paper') {\n          update[`a${props.attr}`] = v;\n        }\n\n        plotProps.updateContainer(update);\n      };\n    }\n\n    plotProps.clearable = false;\n  },\n});\n\nexport const PositioningRef = connectToContainer(UnconnectedDropdown, {\n  modifyPlotProps: (props, context, plotProps) => {\n    plotProps.options = [\n      {label: 'Canvas', value: 'paper'},\n      ...computeAxesRefOptions(getAllAxes(context.fullLayout), props.attr),\n    ];\n\n    plotProps.clearable = false;\n  },\n});\n\nexport const PositioningNumeric = connectToContainer(UnconnectedNumeric, {\n  modifyPlotProps: (props, context, plotProps) => {\n    const {fullContainer, fullValue, updatePlot} = plotProps;\n    if (\n      fullContainer &&\n      (fullContainer[props.attr[0] + 'ref'] === 'paper' ||\n        fullContainer[props.attr[props.attr.length - 1] + 'ref'] === 'paper')\n    ) {\n      plotProps.units = '%';\n      plotProps.showSlider = true;\n      plotProps.max = 100;\n      plotProps.min = 0;\n      plotProps.step = 1;\n      if (isNumeric(fullValue)) {\n        plotProps.fullValue = Math.round(100 * fullValue);\n      }\n\n      plotProps.updatePlot = v => {\n        if (isNumeric(v)) {\n          updatePlot(v / 100);\n        } else {\n          updatePlot(v);\n        }\n      };\n    }\n  },\n});\n\nfunction computeAxesRefOptions(axes, propsAttr) {\n  const options = [];\n  for (let i = 0; i < axes.length; i++) {\n    const ax = axes[i];\n    if (\n      ax._id.charAt(0) === propsAttr.charAt(0) ||\n      ax._id.charAt(0) === propsAttr.charAt(1)\n    ) {\n      const label = getAxisTitle(ax);\n      options.push({label, value: ax._id});\n    }\n  }\n\n  return options;\n}\n\nexport const TextPosition = connectToContainer(UnconnectedDropdown, {\n  modifyPlotProps: (props, context, plotProps) => {\n    const {localize: _} = context;\n    let options = [\n      {label: _('Top Left'), value: 'top left'},\n      {label: _('Top Center'), value: 'top center'},\n      {label: _('Top Right'), value: 'top right'},\n      {label: _('Middle Left'), value: 'middle left'},\n      {label: _('Middle Center'), value: 'middle center'},\n      {label: _('Middle Right'), value: 'middle right'},\n      {label: _('Bottom Left'), value: 'bottom left'},\n      {label: _('Bottom Center'), value: 'bottom center'},\n      {label: _('Bottom Right'), value: 'bottom right'},\n    ];\n    if (context.container.type === 'pie') {\n      options = [\n        {label: _('Inside'), value: 'inside'},\n        {label: _('Outside'), value: 'outside'},\n        {label: _('Auto'), value: 'auto'},\n        {label: _('None'), value: 'none'},\n      ];\n    }\n    plotProps.options = options;\n    plotProps.clearable = false;\n  },\n});\n\nexport const HoverInfo = connectToContainer(UnconnectedFlaglist, {\n  modifyPlotProps: (props, context, plotProps) => {\n    const {localize: _} = context;\n    let options = [\n      {label: _('X'), value: 'x'},\n      {label: _('Y'), value: 'y'},\n      {label: _('Name'), value: 'name'},\n    ];\n\n    if (\n      [\n        'heatmap',\n        'heatmapgl',\n        'histogram2d',\n        'histogram2dcontour',\n        'contour',\n        'contourcarpet',\n        'scatter3d',\n        'surface',\n        'mesh3d',\n      ].includes(context.container.type)\n    ) {\n      options = [\n        {label: _('X'), value: 'x'},\n        {label: _('Y'), value: 'y'},\n        {label: _('Z'), value: 'z'},\n        {label: _('Name'), value: 'name'},\n      ];\n    }\n\n    if (context.container.type === 'choropleth') {\n      options = [\n        {label: _('Location'), value: 'location'},\n        {label: _('Values'), value: 'z'},\n        {label: _('Text'), value: 'text'},\n        {label: _('Name'), value: 'name'},\n      ];\n    }\n\n    if (context.container.type === 'scattergeo') {\n      options = [\n        {label: _('Longitude'), value: 'loc'},\n        {label: _('Latitude'), value: 'lat'},\n        {label: _('Location'), value: 'location'},\n        {label: _('Text'), value: 'text'},\n        {label: _('Name'), value: 'name'},\n      ];\n    }\n\n    if (context.container.type === 'scattermapbox') {\n      options = [\n        {label: _('Longitude'), value: 'loc'},\n        {label: _('Latitude'), value: 'lat'},\n        {label: _('Text'), value: 'text'},\n        {label: _('Name'), value: 'name'},\n      ];\n    }\n\n    if (context.container.type === 'scatterternary') {\n      options = [\n        {label: _('A'), value: 'a'},\n        {label: _('B'), value: 'b'},\n        {label: _('C'), value: 'c'},\n        {label: _('Text'), value: 'text'},\n        {label: _('Name'), value: 'name'},\n      ];\n    }\n\n    if (context.container.type === 'table') {\n      plotProps.isVisible = false;\n    }\n\n    if (['scatterpolar', 'scatterpolargl'].includes(context.container.type)) {\n      options = [\n        {label: _('R'), value: 'r'},\n        {label: _('Theta'), value: 'theta'},\n        {label: _('Text'), value: 'text'},\n        {label: _('Name'), value: 'name'},\n      ];\n    }\n\n    if (context.container.type === 'pie') {\n      options = [\n        {label: _('Label'), value: 'label'},\n        {label: _('Value'), value: 'value'},\n        {label: _('Percent'), value: 'percent'},\n        {label: _('Text'), value: 'text'},\n        {label: _('Name'), value: 'name'},\n      ];\n    }\n\n    plotProps.options = options;\n  },\n});\n\nexport const FillDropdown = connectToContainer(UnconnectedDropdown, {\n  modifyPlotProps: (props, context, plotProps) => {\n    const {localize: _} = context;\n\n    let options = [\n      {label: _('None'), value: 'none'},\n      {label: _('Y = 0'), value: 'tozeroy'},\n      {label: _('X = 0'), value: 'tozerox'},\n      {label: _('Previous Y'), value: 'tonexty'},\n      {label: _('Previous X'), value: 'tonextx'},\n    ];\n\n    if (context.container.type === 'scatterternary') {\n      options = [\n        {label: _('None'), value: 'none'},\n        {label: _('To Self'), value: 'toself'},\n        {label: _('To Next'), value: 'tonext'},\n      ];\n    }\n\n    plotProps.options = options;\n    plotProps.clearable = false;\n  },\n});\n"]}